# -*- coding: utf8 -*-

import pandas as pd
from main import find_closest_topic

path = 'data.csv'

df = pd.read_csv(path)

themes = ['Научные основы охраны здоровья матери, женщины, плода и новорожденного.', 'Трудный диагноз в педиатрии: от практики к науке.', 'Возрастные особенности формирования здоровья в зависимости от медико-социальных факторов, современные технологии прогнозирования, диагностики, лечения и профилактики заболеваний у детей.', 'Трудный диагноз в клинике внутренних болезней.', 'Разработка новых методов профилактики, прогнозирования, диагностики и лечения хирургической и травматолого-ортопедической патологии у детей и взрослых.', 'Разработка новых методов профилактики, диагностики и лечения заболеваний нервной системы у детей и взрослых.', 'Актуальные вопросы клинической психологии и психиатрии в диагностике, лечении и профилактике заболеваний у взрослых и детей.', 'Диспластикоассоциированные заболевания и патологические состояния.', 'Структурно-функциональные и молекулярно-биологические аспекты межтканевых взаимоотношений у человека и животных в норме и патологии.', 'Актуальные проблемы молекулярной и клеточной биологии: структурно-функциональная организация цитоскелета (без публикации).', 'Актуальные вопросы формирования здорового образа жизни, развития оздоровительной, лечебной, адаптивной физической культуры и спорта.', 'Реабилитация пациентов с соматической, неврологической патологией и заболеваниями опорно-двигательного аппарата.', 'Клинические и лабораторно-инструментальные методы контроля эффективности лечения патологии внутренних органов (без публикации).', 'Секция реферативно-аналитических работ по естественно-научным дисциплинам (для студентов 1-2 курсов, без публикации).', 'Медико-социальные, организационно-правовые и организационные аспекты совершенствования оказания медицинской помощи населению.', 'Качество среды и здоровье человека.', 'Актуальные проблемы современной стоматологии.', 'Актуальные вопросы микробиологии.', 'История здравоохранения Ивановской области (без публикации).', 'Актуальные проблемы эндокринной патологии.', 'Актуальные подходы к оздоровлению детей в лечебно-профилактических и образовательных учреждениях.', 'Совершенствование методов профилактики, диагностики и лечения инфекционных заболеваний у взрослых и детей.', 'Современные аспекты деятельности медицинской сестры (для обучающихся учреждений среднего профессионального образования).', 'Онкологические заболевания: профилактика, ранняя диагностика и лечение.', 'Проблемы полиморбидности в клинике внутренних болезней: патогенез, диагностика, лечение и профилактика.', 'История ИГМИ-ИвГМА (без публикации).', 'Секция учащихся школ «Первые шаги в медицинской науке» (без публикации).']

df['prediction'] = df['title'].apply(lambda x : find_closest_topic(x, themes))

print(len(df[df['prediction'] == df['target']]) / len(df))